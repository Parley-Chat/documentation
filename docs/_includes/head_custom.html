
<script>
function toggleTheme() {
  const currentTheme = localStorage.getItem('theme') || 'light';
  const newTheme = currentTheme === 'light' ? 'dark' : 'light';

  // Find and replace the theme stylesheet
  const currentLink = document.querySelector('link[href*="just-the-docs"]');
  if (currentLink) {
    const baseUrl = '/documentation';
    currentLink.href = `${baseUrl}/assets/css/just-the-docs-${newTheme}.css`;
  }

  localStorage.setItem('theme', newTheme);

  const sunIcon = document.querySelector('.sun-icon');
  const moonIcon = document.querySelector('.moon-icon');

  if (newTheme === 'light') {
    sunIcon.style.display = 'none';
    moonIcon.style.display = 'block';
  } else {
    sunIcon.style.display = 'block';
    moonIcon.style.display = 'none';
  }
}

document.addEventListener('DOMContentLoaded', function() {
  const savedTheme = localStorage.getItem('theme') || 'dark';

  // Apply saved theme by updating the CSS link
  const currentLink = document.querySelector('link[href*="just-the-docs"]');
  if (currentLink && savedTheme === 'light') {
    const baseUrl = '/documentation';
    currentLink.href = `${baseUrl}/assets/css/just-the-docs-light.css`;
  }

  const sunIcon = document.querySelector('.sun-icon');
  const moonIcon = document.querySelector('.moon-icon');

  if (savedTheme === 'light') {
    sunIcon.style.display = 'none';
    moonIcon.style.display = 'block';
  } else {
    sunIcon.style.display = 'block';
    moonIcon.style.display = 'none';
  }
});
</script>